#!/bin/bash

#   start up and set up docker environment
#   pass in a machine name if you want. Otherwise the script makes an educated guess.
function doc() {
    if [ $# -eq 0 ]; then
        #   find the first docker-machine poduced by docker-machine ls, start it, and set appropriate environment variables
        machinename="$(docker-machine ls -q | head -n 1)"
    else
        machinename="$1"
    fi
    if [ "$(docker-machine status $machinename)" != "Running" ]; then
        echo "booting up docker machine..."
        docker-machine start "$machinename" && eval $(docker-machine env $machinename)
    else
        eval $(docker-machine env $machinename)
    fi
    docker-machine ls;
    env | grep "DOCKER_\w\+";
}
